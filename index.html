<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>IronMusic</title>

<style>
body {
    margin: 0;
    background: radial-gradient(circle at top, #111, #000);
    color: #fff;
    font-family: Arial, Helvetica, sans-serif;
    text-align: center;
}

header {
    padding: 20px;
    font-size: 26px;
    font-weight: bold;
}

input {
    width: 70%;
    max-width: 400px;
    padding: 12px;
    border-radius: 10px;
    border: none;
    font-size: 16px;
}

button {
    padding: 12px 20px;
    margin-left: 8px;
    border-radius: 10px;
    border: none;
    font-size: 16px;
    cursor: pointer;
    background: #1db954;
    color: #000;
    font-weight: bold;
}

#player {
    margin-top: 25px;
}

iframe {
    border-radius: 14px;
    border: none;
}

/* tema rock */
.icon {
    font-size: 32px;
}
</style>
</head>
<body>

<header>
    ðŸŽ¸ IronMusic
</header>

<div>
    <input id="music" placeholder="Digite a mÃºsica ou banda">
    <button onclick="play()">â–¶ Tocar</button>
</div>

<div id="player"></div>

<script>
function play() {
    const termo = document.getElementById("music").value.trim();
    if (!termo) return;

    const query = encodeURIComponent(termo);

    // Spotify Embed (busca automÃ¡tica)
    const spotifyURL = `
    <iframe 
        src="https://open.spotify.com/embed/search/${query}"
        width="90%" 
        height="380"
        allow="encrypted-media">
    </iframe>`;

    // YouTube Embed (fallback)
    const youtubeURL = `
    <iframe 
        src="https://www.youtube.com/embed?listType=search&list=${query}&autoplay=1"
        width="90%" 
        height="380"
        allow="autoplay; encrypted-media"
        allowfullscreen>
    </iframe>`;

    const player = document.getElementById("player");

    // Tenta Spotify primeiro
    player.innerHTML = spotifyURL;

    // Se o Spotify nÃ£o carregar, troca para YouTube
    setTimeout(() => {
        const iframe = player.querySelector("iframe");
        if (!iframe || iframe.clientHeight < 200) {
            player.innerHTML = youtubeURL;
        }
    }, 2000);
}
</script>

</body>
</html>
